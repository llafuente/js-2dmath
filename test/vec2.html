<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" ></script>
<title>js-2dmath: Some Vec2 functions in action</title>

<script src="../js-2dmath-browser.js" type="text/javascript" ></script>

</head>
<body>
<h1>js-2dmath: Some Vec2 functions in action</h1>
<canvas id="canvas" width="640" height="480" style="border: 1px solid red;"></canvas>
<canvas id="canvas2" width="640" height="480" style="border: 1px solid red;"></canvas>
</body>
</html>

<script>
var ctx = document.getElementById("canvas").getContext("2d");

require("js-2dmath").globalize(window);

ctx.strokeStyle = "grey";
ctx.beginPath();
ctx.moveTo(0, 480 * 0.5);
ctx.lineTo(640, 480 * 0.5);
ctx.stroke();

ctx.beginPath();
ctx.moveTo(640 * 0.5, 0);
ctx.lineTo(640 * 0.5, 480);
ctx.stroke();


ctx.translate(640 * 0.5, 480 * 0.5);


var v = Vec2.create(50, 50),
    a = Vec2.create(100, 75),
    b = Vec2.create(100, 0),
    aux = [];


Draw.vec2(ctx, v, "red", "vec2");
Draw.text(ctx, "vec2", Vec2.add([], v, [7,7]));

Vec2.perp(aux, v);
Draw.vec2(ctx, aux, "red", "prep");
Draw.text(ctx, "prep", Vec2.add([], aux, [7,7]));

Vec2.rerp(aux, v);
Draw.vec2(ctx, aux, "red");
Draw.text(ctx, "rperp", Vec2.add([], aux, [7,7]));


Draw.vec2(ctx, a, "red", "a");
Draw.text(ctx, "a", Vec2.add([], a, [7,7]));

Draw.vec2(ctx, b, "red", "b");
Draw.text(ctx, "b", Vec2.add([], b, [7,7]));

Vec2.interpolate(aux, a, b, 2)
console.log(aux);
Draw.vec2(ctx, aux, "red");
Draw.text(ctx, "interpolate(a,b,2)", Vec2.add([], aux, [7,7]))


Vec2.interpolate(aux, a, b, 3)
console.log(aux);
Draw.vec2(ctx, aux, "red");
Draw.text(ctx, "interpolate(a,b,3)", Vec2.add([], aux, [7,7]))

Vec2.interpolate(aux, b, a, 2)
console.log(aux);
Draw.vec2(ctx, aux, "red");
Draw.text(ctx, "interpolate(b,a,2)", Vec2.add([], aux, [7,7]))


var ctx = document.getElementById("canvas2").getContext("2d");
aux = [50, 50];
Draw.vec2(ctx, aux, "red");
var angle = Vec2.angleTo([0, 0], aux) * Math.RAD_TO_DEG;
console.log(Math.RAD_TO_DEG);
console.log(Vec2.angleTo([100, 0], aux));
console.log(angle);
Draw.text(ctx, "angleTo=" + angle.toFixed(2), Vec2.add([], aux, [7,7]))


</script>